<html>
<head>
<title>Customer Index</title>
</head>
<body>
	<link rel="stylesheet"
		href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
</head>
<body>
	<div id="navBar"></div>
	<script>
		$.get("index.html", function(data) {
			$("#navBar").replaceWith(data);
		});
	</script>
	<!-- empty table to hold customers -->
	<table style="width: 100%"
		class="table table-striped table-bordered table-condensed">
		<tr>
			<td id="fnamelname"><b>Name</b></td>
			<td id="email"><b>Email</b></td>
			<td id="phone"><b>Phone number</b></td>
		</tr>
	</table>
	
	<!--  append customer information to table -->
	<script type="text/javascript">
		$(window).load(
				function() {
					/* clear all previously appended values from the index page */
					$.ajax({
						url : '/customers',
						method : 'GET'
					}).then(
							function(customers) {
								for (var i = 0; i < customers.length; i++) {
									/* select box shows display all */
									$('#fnamelname').append(
											'<tr><td>' + customers[i].firstname
													+ ' '
													+ customers[i].lastname
													+ '</td></tr>');
									$('#email').append(
											'<tr><td>'
													+ customers[i].emailaddress
													+ '</td></tr>');
									$('#phone').append(
											'<tr><td>'
													+ customers[i].phonenumber
													+ '</td></tr>');
								}
							});
				});
	</script>
</body>
</html>
